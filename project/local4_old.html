<!DOCTYPE html>
<html>
<head>
  <style>
    .error {
        color: red;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega-lite@4.8.1"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega-embed@6"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "layer": [{"data": {"name": "data-ff07ee4f99b2f3306b28ae1bea1aad91"}, "mark": {"type": "line", "interpolate": "basis"}, "encoding": {"color": {"type": "nominal", "field": "country"}, "x": {"type": "quantitative", "field": "year"}, "y": {"type": "quantitative", "field": "CO2_Emission"}}}, {"data": {"name": "data-ff07ee4f99b2f3306b28ae1bea1aad91"}, "mark": "point", "encoding": {"opacity": {"value": 0}, "x": {"type": "quantitative", "field": "year"}}, "selection": {"selector008": {"type": "single", "nearest": true, "on": "mouseover", "fields": ["year"], "empty": "none"}}}, {"data": {"name": "data-ff07ee4f99b2f3306b28ae1bea1aad91"}, "mark": "point", "encoding": {"color": {"type": "nominal", "field": "country"}, "opacity": {"condition": {"value": 1, "selection": "selector008"}, "value": 0}, "x": {"type": "quantitative", "field": "year"}, "y": {"type": "quantitative", "field": "CO2_Emission"}}}, {"data": {"name": "data-ff07ee4f99b2f3306b28ae1bea1aad91"}, "mark": {"type": "circle", "opacity": 0.5}, "encoding": {"color": {"type": "nominal", "field": "country"}, "size": {"type": "quantitative", "field": "GDP million"}, "x": {"type": "quantitative", "field": "year"}, "y": {"type": "quantitative", "field": "CO2_Emission"}}, "title": "Relationship between GDP and carbon emissions in the US and China"}, {"data": {"name": "data-ff07ee4f99b2f3306b28ae1bea1aad91"}, "mark": {"type": "rule", "color": "gray"}, "encoding": {"x": {"type": "quantitative", "field": "year"}}, "transform": [{"filter": {"selection": "selector008"}}]}, {"data": {"name": "data-f953216523dbe994f4e1df0c58094f7c"}, "mark": {"type": "rule", "color": "green"}, "encoding": {"x": {"type": "quantitative", "field": "year"}}}, {"data": {"name": "data-ff07ee4f99b2f3306b28ae1bea1aad91"}, "mark": {"type": "text", "align": "left", "dx": 5, "dy": -5}, "encoding": {"color": {"type": "nominal", "field": "country"}, "text": {"condition": {"type": "quantitative", "field": "CO2_Emission", "selection": "selector008"}, "value": " "}, "x": {"type": "quantitative", "field": "year"}, "y": {"type": "quantitative", "field": "CO2_Emission"}}}], "height": 300, "width": 1200, "$schema": "https://vega.github.io/schema/vega-lite/v4.8.1.json", "datasets": {"data-ff07ee4f99b2f3306b28ae1bea1aad91": [{"country": "China", "year": 1965, "CO2_Emission": 0.5583, "GDP million": 70436.26615}, {"country": "China", "year": 1966, "CO2_Emission": 0.5925, "GDP million": 76720.28597}, {"country": "China", "year": 1967, "CO2_Emission": 0.4931, "GDP million": 72881.63133}, {"country": "China", "year": 1968, "CO2_Emission": 0.5431, "GDP million": 70846.53506}, {"country": "China", "year": 1969, "CO2_Emission": 0.604, "GDP million": 79705.90625}, {"country": "China", "year": 1970, "CO2_Emission": 0.7062, "GDP million": 92602.97343}, {"country": "China", "year": 1971, "CO2_Emission": 0.7476, "GDP million": 99800.95865}, {"country": "China", "year": 1972, "CO2_Emission": 0.7852, "GDP million": 113687.5863}, {"country": "China", "year": 1973, "CO2_Emission": 0.7556, "GDP million": 138544.2847}, {"country": "China", "year": 1974, "CO2_Emission": 0.7517, "GDP million": 144182.1334}, {"country": "China", "year": 1975, "CO2_Emission": 0.81, "GDP million": 163431.5518}, {"country": "China", "year": 1976, "CO2_Emission": 0.8675, "GDP million": 153940.4553}, {"country": "China", "year": 1977, "CO2_Emission": 0.8978, "GDP million": 174938.0988}, {"country": "China", "year": 1978, "CO2_Emission": 0.8952, "GDP million": 149540.7528}, {"country": "China", "year": 1979, "CO2_Emission": 0.8469, "GDP million": 178280.5944}, {"country": "China", "year": 1980, "CO2_Emission": 0.7892, "GDP million": 191149.2116}, {"country": "China", "year": 1981, "CO2_Emission": 0.7572, "GDP million": 195866.3824}, {"country": "China", "year": 1982, "CO2_Emission": 0.7548, "GDP million": 205089.6999}, {"country": "China", "year": 1983, "CO2_Emission": 0.7434, "GDP million": 230686.7472}, {"country": "China", "year": 1984, "CO2_Emission": 0.728, "GDP million": 259946.511}, {"country": "China", "year": 1985, "CO2_Emission": 0.7259, "GDP million": 309488.0281}, {"country": "China", "year": 1986, "CO2_Emission": 0.7178, "GDP million": 300758.1001}, {"country": "China", "year": 1987, "CO2_Emission": 0.7106, "GDP million": 272972.9748}, {"country": "China", "year": 1988, "CO2_Emission": 0.7232, "GDP million": 312353.6312}, {"country": "China", "year": 1989, "CO2_Emission": 0.7288, "GDP million": 347768.0513}, {"country": "China", "year": 1990, "CO2_Emission": 0.7341, "GDP million": 360857.9126}, {"country": "China", "year": 1991, "CO2_Emission": 0.7427, "GDP million": 383373.3181}, {"country": "China", "year": 1992, "CO2_Emission": 0.7272, "GDP million": 426915.7127}, {"country": "China", "year": 1993, "CO2_Emission": 0.7081, "GDP million": 444731.2824}, {"country": "China", "year": 1994, "CO2_Emission": 0.6984, "GDP million": 564324.67}, {"country": "China", "year": 1995, "CO2_Emission": 0.6981, "GDP million": 734547.8982}, {"country": "China", "year": 1996, "CO2_Emission": 0.6832, "GDP million": 863746.7175}, {"country": "China", "year": 1997, "CO2_Emission": 0.6634, "GDP million": 961603.953}, {"country": "China", "year": 1998, "CO2_Emission": 0.6295, "GDP million": 1029043.098}, {"country": "China", "year": 1999, "CO2_Emission": 0.6006, "GDP million": 1093997.267}, {"country": "China", "year": 2000, "CO2_Emission": 0.5777, "GDP million": 1211346.87}, {"country": "China", "year": 2001, "CO2_Emission": 0.5553, "GDP million": 1339395.719}, {"country": "China", "year": 2002, "CO2_Emission": 0.5683, "GDP million": 1470550.015}, {"country": "China", "year": 2003, "CO2_Emission": 0.627, "GDP million": 1660287.966}, {"country": "China", "year": 2004, "CO2_Emission": 0.6671, "GDP million": 1955347.005}, {"country": "China", "year": 2005, "CO2_Emission": 0.6831, "GDP million": 2285965.892}, {"country": "China", "year": 2006, "CO2_Emission": 0.6838, "GDP million": 2752131.773}, {"country": "China", "year": 2007, "CO2_Emission": 0.6737, "GDP million": 3550342.737}, {"country": "China", "year": 2008, "CO2_Emission": 0.6942, "GDP million": 4594307.033}, {"country": "China", "year": 2009, "CO2_Emission": 0.6815, "GDP million": 5101703.073}, {"country": "China", "year": 2010, "CO2_Emission": 0.6701, "GDP million": 6087163.875}, {"country": "China", "year": 2011, "CO2_Emission": 0.6969, "GDP million": 7551500.124}, {"country": "China", "year": 2012, "CO2_Emission": 0.6808, "GDP million": 8532229.987}, {"country": "China", "year": 2013, "CO2_Emission": 0.6503, "GDP million": 9570406.236}, {"country": "United States", "year": 1965, "CO2_Emission": 0.8179, "GDP million": 743700.0}, {"country": "United States", "year": 1966, "CO2_Emission": 0.8065, "GDP million": 815000.0}, {"country": "United States", "year": 1967, "CO2_Emission": 0.8163, "GDP million": 861700.0}, {"country": "United States", "year": 1968, "CO2_Emission": 0.8077, "GDP million": 942500.0}, {"country": "United States", "year": 1969, "CO2_Emission": 0.8228, "GDP million": 1019900.0}, {"country": "United States", "year": 1970, "CO2_Emission": 0.8833, "GDP million": 1073303.0}, {"country": "United States", "year": 1971, "CO2_Emission": 0.8617, "GDP million": 1164850.0}, {"country": "United States", "year": 1972, "CO2_Emission": 0.8572, "GDP million": 1279110.0}, {"country": "United States", "year": 1973, "CO2_Emission": 0.8488, "GDP million": 1425376.0}, {"country": "United States", "year": 1974, "CO2_Emission": 0.822, "GDP million": 1545243.0}, {"country": "United States", "year": 1975, "CO2_Emission": 0.7988, "GDP million": 1684904.0}, {"country": "United States", "year": 1976, "CO2_Emission": 0.8047, "GDP million": 1873412.0}, {"country": "United States", "year": 1977, "CO2_Emission": 0.7928, "GDP million": 2081826.0}, {"country": "United States", "year": 1978, "CO2_Emission": 0.758, "GDP million": 2351599.0}, {"country": "United States", "year": 1979, "CO2_Emission": 0.7431, "GDP million": 2627333.0}, {"country": "United States", "year": 1980, "CO2_Emission": 0.7131, "GDP million": 2857307.0}, {"country": "United States", "year": 1981, "CO2_Emission": 0.678, "GDP million": 3207041.0}, {"country": "United States", "year": 1982, "CO2_Emission": 0.6557, "GDP million": 3343789.0}, {"country": "United States", "year": 1983, "CO2_Emission": 0.6268, "GDP million": 3634038.0}, {"country": "United States", "year": 1984, "CO2_Emission": 0.6149, "GDP million": 4037613.0}, {"country": "United States", "year": 1985, "CO2_Emission": 0.5908, "GDP million": 4338979.0}, {"country": "United States", "year": 1986, "CO2_Emission": 0.5724, "GDP million": 4579631.0}, {"country": "United States", "year": 1987, "CO2_Emission": 0.5722, "GDP million": 4855215.0}, {"country": "United States", "year": 1988, "CO2_Emission": 0.5747, "GDP million": 5236438.0}, {"country": "United States", "year": 1989, "CO2_Emission": 0.5645, "GDP million": 5641580.0}, {"country": "United States", "year": 1990, "CO2_Emission": 0.5528, "GDP million": 5963144.0}, {"country": "United States", "year": 1991, "CO2_Emission": 0.5472, "GDP million": 6158129.0}, {"country": "United States", "year": 1992, "CO2_Emission": 0.5398, "GDP million": 6520327.0}, {"country": "United States", "year": 1993, "CO2_Emission": 0.5356, "GDP million": 6858559.0}, {"country": "United States", "year": 1994, "CO2_Emission": 0.5237, "GDP million": 7287236.0}, {"country": "United States", "year": 1995, "CO2_Emission": 0.5158, "GDP million": 7639749.0}, {"country": "United States", "year": 1996, "CO2_Emission": 0.5143, "GDP million": 8073122.0}, {"country": "United States", "year": 1997, "CO2_Emission": 0.4989, "GDP million": 8577554.457}, {"country": "United States", "year": 1998, "CO2_Emission": 0.4814, "GDP million": 9062818.202}, {"country": "United States", "year": 1999, "CO2_Emission": 0.4657, "GDP million": 9630664.202}, {"country": "United States", "year": 2000, "CO2_Emission": 0.4633, "GDP million": 10252345.46}, {"country": "United States", "year": 2001, "CO2_Emission": 0.4507, "GDP million": 10581821.4}, {"country": "United States", "year": 2002, "CO2_Emission": 0.446, "GDP million": 10936419.05}, {"country": "United States", "year": 2003, "CO2_Emission": 0.4385, "GDP million": 11458243.88}, {"country": "United States", "year": 2004, "CO2_Emission": 0.4297, "GDP million": 12213729.15}, {"country": "United States", "year": 2005, "CO2_Emission": 0.4172, "GDP million": 13036640.23}, {"country": "United States", "year": 2006, "CO2_Emission": 0.4009, "GDP million": 13814611.41}, {"country": "United States", "year": 2007, "CO2_Emission": 0.399, "GDP million": 14451858.66}, {"country": "United States", "year": 2008, "CO2_Emission": 0.386, "GDP million": 14712844.08}, {"country": "United States", "year": 2009, "CO2_Emission": 0.3678, "GDP million": 14448933.03}, {"country": "United States", "year": 2010, "CO2_Emission": 0.3717, "GDP million": 14992052.73}, {"country": "United States", "year": 2011, "CO2_Emission": 0.3572, "GDP million": 15542581.1}, {"country": "United States", "year": 2012, "CO2_Emission": 0.3368, "GDP million": 16197007.35}, {"country": "United States", "year": 2013, "CO2_Emission": 0.3398, "GDP million": 16784849.2}], "data-f953216523dbe994f4e1df0c58094f7c": [{"year": "1966"}, {"year": "1979"}]}};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div class="error" style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>
